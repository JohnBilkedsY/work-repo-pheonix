<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Interactive Vanilla JS Calendar</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      display: flex;
      flex-direction: column;
      align-items: center;
      padding: 20px;
    }
    table {
      border-collapse: collapse;
      width: 100%;
      max-width: 400px;
      margin-top: 10px;
    }
    th, td {
      border: 1px solid #ccc;
      text-align: center;
      padding: 10px;
      width: 14.28%;
      height: 40px;
    }
    .today {
      background-color: #ffeb3b; /* yellow */
    }
    .event {
      background-color: #90caf9; /* light blue */
    }
    .meeting {
      background-color: #a5d6a7; /* light green */
    }
    .link-bar {
      margin: 10px 0;
    }
    .link-bar a {
      margin: 0 10px;
      cursor: pointer;
      color: #007BFF;
      text-decoration: underline;
    }
    button {
      padding: 5px 10px;
      margin: 5px;
    }
    select {
      padding: 5px;
      margin: 5px;
    }
  </style>
</head>
<body>

  <div>
    <button onclick="prevMonth()">Previous</button>
    <select id="monthSelect" onchange="jumpTo()"></select>
    <select id="yearSelect" onchange="jumpTo()"></select>
    <button onclick="nextMonth()">Next</button>
  </div>

  <div class="link-bar">
    <a onclick="filterType='none'; generateCalendar(currentMonth, currentYear);">Clear</a>
    <a onclick="filterType='event'; generateCalendar(currentMonth, currentYear);">Events</a>
    <a onclick="filterType='meeting'; generateCalendar(currentMonth, currentYear);">Meetings</a>
    <a onclick="filterType='all'; generateCalendar(currentMonth, currentYear);">Show All</a>
  </div>

  <table>
    <thead>
      <tr>
        <th>Sun</th><th>Mon</th><th>Tue</th><th>Wed</th>
        <th>Thu</th><th>Fri</th><th>Sat</th>
      </tr>
    </thead>
    <tbody id="calendarBody"></tbody>
  </table>

  <script>
    const events = {
      '6-2025': [5, 12],
      '7-2025': [8, 20]
    };

    const meetings = {
      '6-2025': [10, 22],
      '7-2025': [4, 18]
    };

    let currentDate = new Date();
    let currentMonth = currentDate.getMonth();
    let currentYear = currentDate.getFullYear();
    let filterType = 'none';  // Start with no highlights

    const monthNames = [
      "January", "February", "March", "April", "May", "June",
      "July", "August", "September", "October", "November", "December"
    ];

    function populateDropdowns() {
      const monthSelect = document.getElementById('monthSelect');
      const yearSelect = document.getElementById('yearSelect');

      monthSelect.innerHTML = '';
      monthNames.forEach((m, idx) => {
        let option = document.createElement('option');
        option.value = idx;
        option.text = m;
        if (idx === currentMonth) option.selected = true;
        monthSelect.appendChild(option);
      });

      yearSelect.innerHTML = '';
      for (let y = currentYear - 10; y <= currentYear + 10; y++) {
        let option = document.createElement('option');
        option.value = y;
        option.text = y;
        if (y === currentYear) option.selected = true;
        yearSelect.appendChild(option);
      }
    }

    function generateCalendar(month, year) {
      const calendarBody = document.getElementById('calendarBody');
      calendarBody.innerHTML = '';

      document.getElementById('monthSelect').value = month;
      document.getElementById('yearSelect').value = year;

      const firstDay = new Date(year, month, 1).getDay();
      const daysInMonth = new Date(year, month + 1, 0).getDate();

      let date = 1;
      for (let i = 0; i < 6; i++) {
        let row = document.createElement('tr');

        for (let j = 0; j < 7; j++) {
          let cell = document.createElement('td');

          if (i === 0 && j < firstDay) {
            cell.innerHTML = '';
          } else if (date > daysInMonth) {
            cell.innerHTML = '';
          } else {
            cell.innerHTML = date;

            const eventKey = `${month + 1}-${year}`;
            const isEvent = events[eventKey]?.includes(date);
            const isMeeting = meetings[eventKey]?.includes(date);

            // Apply filter based coloring
            if (filterType === 'event' && isEvent) {
              cell.classList.add('event');
            } else if (filterType === 'meeting' && isMeeting) {
              cell.classList.add('meeting');
            } else if (filterType === 'all') {
              if (isEvent) cell.classList.add('event');
              if (isMeeting) cell.classList.add('meeting');
            }

            // Always show today if in current month/year
            let today = new Date();
            if (date === today.getDate() &&
                month === today.getMonth() &&
                year === today.getFullYear()) {
              cell.classList.add('today');
            }

            date++;
          }

          row.appendChild(cell);
        }

        calendarBody.appendChild(row);
      }
    }

    function prevMonth() {
      currentMonth--;
      if (currentMonth < 0) {
        currentMonth = 11;
        currentYear--;
      }
      generateCalendar(currentMonth, currentYear);
    }

    function nextMonth() {
      currentMonth++;
      if (currentMonth > 11) {
        currentMonth = 0;
        currentYear++;
      }
      generateCalendar(currentMonth, currentYear);
    }

    function jumpTo() {
      currentMonth = parseInt(document.getElementById('monthSelect').value);
      currentYear = parseInt(document.getElementById('yearSelect').value);
      generateCalendar(currentMonth, currentYear);
    }

    // Initialize
    populateDropdowns();
    generateCalendar(currentMonth, currentYear);
  </script>

</body>
</html>
